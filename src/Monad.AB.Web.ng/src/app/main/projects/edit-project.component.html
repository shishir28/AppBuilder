<div fxLayout="column" fxLayout.gt-md="row"*msElementAccess="'Project.Edit'">
  <mat-card style="padding: 16px;" fxFlex="90%">
    <mat-toolbar color="primary">Edit Project</mat-toolbar>
    <mat-card-content>
      <form [formGroup]="projForm" novalidate (ngSubmit)="saveProject(projForm.value)">
        <div fxLayout fxLayoutWrap>
          <mat-form-field fxFlex="50">
            <input matInput
                   name="name"
                   placeholder="Name"
                   required
                   [(ngModel)]="project.name"
                   formControlName="name"
                   [class.invalid]="projForm.controls['name'].touched && !projForm.controls['name'].valid" />
            <mat-hint [hidden]="projForm.controls['name'].pristine || projForm.controls['name'].valid">
              <span [hidden]="!projForm.controls['name'].errors?.required">Project Name is required.</span>
            </mat-hint>
          </mat-form-field>
        </div>
        <div fxLayout="column">
          <mat-form-field>
            <input matInput
                   name="title"
                   required
                   placeholder="Title"
                   [(ngModel)]="project.title"
                   formControlName="title"
                   [class.invalid]="projForm.controls['title'].touched && !projForm.controls['title'].valid" />
            <mat-hint [hidden]="projForm.controls['title'].pristine || projForm.controls['title'].valid">
              <span [hidden]="!projForm.controls['title'].errors?.required">Project Title is required.</span>
            </mat-hint>
          </mat-form-field>
        </div>
        <div fxLayout="column">
          <mat-form-field>
            <input matInput
                   name="rootNamespace"
                   required
                   placeholder="RootNamespace"
                   [(ngModel)]="project.rootNamespace"
                   formControlName="rootNamespace"
                   [class.invalid]="projForm.controls['rootNamespace'].touched && !projForm.controls['rootNamespace'].valid" />
            <mat-hint [hidden]="projForm.controls['rootNamespace'].pristine || projForm.controls['rootNamespace'].valid">
              <span [hidden]="!projForm.controls['rootNamespace'].errors?.required">Project Root Namespace is required.</span>
            </mat-hint>
          </mat-form-field>
        </div>
        <div fxLayout="column">
          <mat-form-field>
            <input matInput
                   name="companyName"
                   required
                   placeholder="CompanyName"
                   [(ngModel)]="project.companyName"
                   formControlName="companyName"
                   [class.invalid]="projForm.controls['companyName'].touched && !projForm.controls['companyName'].valid" />
            <mat-hint [hidden]="projForm.controls['companyName'].pristine || projForm.controls['companyName'].valid">
              <span [hidden]="!projForm.controls['companyName'].errors?.required">Company Name is required.</span>
            </mat-hint>
          </mat-form-field>
        </div>
        <div fxLayout="column">
          <mat-form-field>
            <input matInput
                   name="description"
                   placeholder="Description"
                   [(ngModel)]="project.description"
                   formControlName="description" />
          </mat-form-field>
        </div>
        <div fxLayout="column" *ngIf="serverErrorMessage">
          <div fxLayout="row" fxLayoutAlign="end center">
            <label class="control-label">
              {{ serverErrorMessage}}
            </label>
          </div>
        </div>
        <div fxLayout="column">
          <div fxLayout="row" fxLayoutAlign="end center">
            <button md-raised-button
                    type="button" (click)="cancelChanges($event);">
              Cancel
            </button>
            <button md-button color="primary"
                    md-raised-button
                    style="margin-left: 8px;"
                    type="submit"
                    [disabled]="!projForm.valid">
              Save
            </button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>

